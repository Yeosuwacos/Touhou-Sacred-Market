[gd_scene load_steps=7 format=3 uid="uid://d33ey25jdpimv"]

[ext_resource type="Script" uid="uid://b80hdq3ug5e08" path="res://scenes/game/minigame_data.gd" id="1_8p414"]
[ext_resource type="Texture2D" uid="uid://b6mj3aiurm4vx" path="res://assets/tiles/oreMine.png" id="2_0wkj4"]
[ext_resource type="Texture2D" uid="uid://5bdm7lmq4ojq" path="res://assets/tiles/mineBG.png" id="2_nknyf"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_0wkj4"]
noise_type = 3
frequency = 0.09
fractal_octaves = 1

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0wkj4"]
texture = ExtResource("2_0wkj4")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0

[sub_resource type="TileSet" id="TileSet_csx57"]
tile_size = Vector2i(128, 128)
sources/1 = SubResource("TileSetAtlasSource_0wkj4")

[node name="MinigameData" type="Node2D"]
script = ExtResource("1_8p414")
noiseMaker = SubResource("FastNoiseLite_0wkj4")

[node name="Background" type="Parallax2D" parent="."]
repeat_size = Vector2(128, 128)
repeat_times = 250

[node name="bgDirt" type="Sprite2D" parent="Background"]
position = Vector2(-24, -24)
scale = Vector2(2, 2)
texture = ExtResource("2_nknyf")

[node name="mineWindow" type="Node2D" parent="."]

[node name="Labels" type="CanvasLayer" parent="mineWindow"]

[node name="BackEarly" type="Button" parent="mineWindow/Labels"]
offset_right = 64.0
offset_bottom = 64.0
text = "Back"

[node name="moveCounter" type="Label" parent="mineWindow/Labels"]
offset_top = 64.0
offset_right = 40.0
offset_bottom = 87.0

[node name="returnSurface" type="Node2D" parent="mineWindow/Labels"]
visible = false

[node name="Back" type="Button" parent="mineWindow/Labels/returnSurface"]
offset_right = 64.0
offset_bottom = 64.0
text = "Back"

[node name="Stats" type="RichTextLabel" parent="mineWindow/Labels/returnSurface"]
offset_top = 64.0
offset_right = 640.0
offset_bottom = 304.0

[node name="oreMap" type="TileMapLayer" parent="mineWindow"]
position = Vector2(-20, 0)
tile_set = SubResource("TileSet_csx57")

[connection signal="pressed" from="mineWindow/Labels/BackEarly" to="." method="_on_back_early_pressed"]
[connection signal="pressed" from="mineWindow/Labels/returnSurface/Back" to="." method="_on_back_pressed"]
